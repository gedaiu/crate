module crate.mime;

string toExtension(string name) {
  immutable auto mime = [
    "audio/basic": ".au",
    "video/avi": ".avi",
    "video/msvideo": ".avi",
    "video/x-msvideo": ".avi",
    "image/bmp": ".bmp",
    "application/x-bzip2": ".bz2",
    "text/css": ".css",
    "application/xml-dtd": ".dtd",
    "application/msword": ".doc",
    "application/octet-stream": ".exe",
    "image/gif": ".gif",
    "application/x-gzip": ".gz",
    "application/mac-binhex40": ".hqx",
    "text/html": ".html",
    "application/java-archive": ".jar",
    "image/jpeg": ".jpg",
    "application/x-javascript": ".js",
    "audio/x-midi": ".midi",
    "audio/mpeg": ".mp3",
    "video/mpeg": ".mpeg",
    "audio/vorbis": ".ogg",
    "application/ogg": ".ogg",
    "application/pdf": ".pdf",
    "application/x-perl": ".pl",
    "image/png": ".png",
    "application/vnd.ms-powerpoint": ".ppt",
    "application/postscript": ".ps",
    "application/rdf": ".rdf",
    "application/rdf+xml": ".rdf",
    "application/rtf": ".rtf",
    "text/sgml": ".sgml",
    "application/x-stuffit": ".sit",
    "image/svg+xml": ".svg",
    "application/x-shockwave-flash": ".swf",
    "application/x-tar": ".tar.gz",
    "application/x-tar": ".tgz",
    "image/tiff": ".tiff",
    "text/tab-separated-values": ".tsv",
    "text/plain": ".txt",
    "audio/wav, audio/x-wav": ".wav",
    "application/vnd.ms-excel": ".xls",
    "application/xml": ".xml",
    "application/x-compressed-zip": ".zip",
    "application/zip": ".zip"];

  return name in mime ? mime[name] : "";
}

string toMime(string name) {
  immutable auto mime = [
    ".au": "audio/basic",
    ".avi": "video/avi",
    ".avi": "video/msvideo",
    ".avi": "video/x-msvideo",
    ".bmp": "image/bmp",
    ".bz2": "application/x-bzip2",
    ".css": "text/css",
    ".dtd": "application/xml-dtd",
    ".doc": "application/msword",
    ".exe": "application/octet-stream",
    ".gif": "image/gif",
    ".gz": "application/x-gzip",
    ".hqx": "application/mac-binhex40",
    ".html": "text/html",
    ".jar": "application/java-archive",
    ".jpg": "image/jpeg",
    ".js": "application/x-javascript",
    ".midi": "audio/x-midi",
    ".mp3": "audio/mpeg",
    ".mpeg": "video/mpeg",
    ".ogg": "audio/vorbis",
    ".ogg": "application/ogg",
    ".pdf": "application/pdf",
    ".pl": "application/x-perl",
    ".png": "image/png",
    ".ppt": "application/vnd.ms-powerpoint",
    ".ps": "application/postscript",
    ".rdf": "application/rdf",
    ".rdf": "application/rdf+xml",
    ".rtf": "application/rtf",
    ".sgml": "text/sgml",
    ".sit": "application/x-stuffit",
    ".svg": "image/svg+xml",
    ".swf": "application/x-shockwave-flash",
    ".tar.gz": "application/x-tar",
    ".tgz": "application/x-tar",
    ".tiff": "image/tiff",
    ".tsv": "text/tab-separated-values",
    ".txt": "text/plain",
    ".wav": "audio/wav, audio/x-wav",
    ".xls": "application/vnd.ms-excel",
    ".xml": "application/xml",
    ".zip": "application/zip"];

  return name in mime ? mime[name] : "application/octet-stream";
}
